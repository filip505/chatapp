{"version":3,"sources":["../../src/main/routes/conversation.controller.js"],"names":["router","post","req","res","user","number","params","conversationService","getOrCreateConversation","conversation","send","get","getConversations","subjects"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAwB,iCAAgB,MAAhB,CAAxB,EACE;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAa,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,YAAAA,IADK,GACEF,GAAG,CAACE,IADN;AAELC,YAAAA,MAFK,GAEIH,GAAG,CAACI,MAAJ,CAAWD,MAFf;AAAA;AAAA,mBAGgBE,sBAAoBC,uBAApB,CAA4CH,MAA5C,EAAoDD,IAApD,CAHhB;;AAAA;AAGLK,YAAAA,YAHK;AAIXN,YAAAA,GAAG,CAACO,IAAJ,CAASD,YAAT;;AAJW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA,IADF;AAQAT,MAAM,CAACW,GAAP,CAAW,EAAX,EAAe,iCAAgB,MAAhB,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAwC,kBAAOT,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAChCC,YAAAA,IADgC,GACzBF,GAAG,CAACE,IADqB;AAAA;AAAA,mBAEfG,sBAAoBK,gBAApB,CAAqCR,IAArC,CAFe;;AAAA;AAEhCS,YAAAA,QAFgC;AAGtCV,YAAAA,GAAG,CAACO,IAAJ,CAASG,QAAT;;AAHsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxC;;AAAA;AAAA;AAAA;AAAA;eAMeb,M","sourcesContent":["import { oauthMiddleware } from './../middleware'\nimport { errorHandler } from './../util'\nimport conversationService from '../services/conversation.service'\nimport { Router } from 'express'\n\nconst router = Router()\n\nrouter.post('/:number', oauthMiddleware('user'),\n  errorHandler(async (req, res) => {\n    const user = req.user\n    const number = req.params.number\n    const conversation = await conversationService.getOrCreateConversation(number, user)\n    res.send(conversation)\n  }))\n\nrouter.get('', oauthMiddleware('user'), async (req, res) => {\n  const user = req.user\n  const subjects = await conversationService.getConversations(user)\n  res.send(subjects)\n})\n\nexport default router"],"file":"conversation.controller.js"}