{"version":3,"sources":["../../src/main/routes/auth.controller.js"],"names":["router","post","loginSchema","req","res","body","password","email","key","oneSignalId","authService","login","response","send","signInSchema","signUp","user","status","http","CREATED"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAsB,wCAASC,gBAAT,CAAtB,EACE;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAa,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACmCD,GAAG,CAACE,IADvC,EACHC,QADG,aACHA,QADG,EACOC,KADP,aACOA,KADP,EACcC,GADd,aACcA,GADd,EACmBC,WADnB,aACmBA,WADnB;AAAA;AAAA,mBAEYC,cAAYC,KAAZ,CAAkBL,QAAlB,EAA4BC,KAA5B,EAAmCC,GAAnC,EAAwCC,WAAxC,CAFZ;;AAAA;AAELG,YAAAA,QAFK;AAGXR,YAAAA,GAAG,CAACS,IAAJ,CAASD,QAAT;;AAHW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA,IADF;AAOAZ,MAAM,CAACC,IAAP,CAAY,SAAZ,EAAuB,wCAASa,iBAAT,CAAvB,EACE;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAa,kBAAOX,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACQM,cAAYK,MAAZ,CAAmBZ,GAAG,CAACE,IAAvB,CADR;;AAAA;AACLW,YAAAA,IADK;AAEXZ,YAAAA,GAAG,CAACa,MAAJ,CAAWC,yBAAKC,OAAhB,EAAyBN,IAAzB,CAA8BG,IAA9B;;AAFW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA,IADF;eAMehB,M","sourcesContent":["import http from 'http-status-codes'\nimport { getRepository } from 'typeorm'\nimport { dtoValidatorMiddleware as validate } from '../middleware'\nimport { signInSchema, loginSchema } from '../dto'\nimport authService from '../services/auth.service';\nimport { errorHandler } from '../util'\nimport { Router } from 'express'\n\nconst router = Router()\n\nrouter.post('/login', validate(loginSchema),\n  errorHandler(async (req, res) => {\n    const { password, email, key, oneSignalId } = req.body\n    const response = await authService.login(password, email, key, oneSignalId)\n    res.send(response)\n  }))\n\nrouter.post('/signin', validate(signInSchema),\n  errorHandler(async (req, res) => {\n    const user = await authService.signUp(req.body)\n    res.status(http.CREATED).send(user)\n  }))\n\nexport default router"],"file":"auth.controller.js"}