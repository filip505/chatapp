{"version":3,"sources":["../../src/routes/auth.js"],"names":["app","personRepository","getRepository","post","req","res","SignInSchema","next","body","id","console","log","save","user","status","http","CREATED","send","get"],"mappings":";;;;;;kBAgBe,UAAUA,GAAV,EAAe;AAAA;;AAC5B,MAAMC,mBAAmB,8BAAgBC,aAAhB,CAA8B,QAA9B,CAAzB;;AAEAF,MAAIG,IAAJ,CAAS,QAAT,EAAmB,UAACC,GAAD,EAAMC,GAAN,EAAc,CAEhC,CAFD;AAGAL,MAAIG,IAAJ,CAAS,SAAT,EACE,4BAASG,iBAAT,CADF;AAAA,uEAEE,iBAAOF,GAAP,EAAYC,GAAZ,EAAiBE,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACEH,kBAAII,IAAJ,CAASC,EAAT,GAAc,qBAAd;AACAC,sBAAQC,GAAR,CAAY,MAAZ,EAAoBP,IAAII,IAAxB;AAFF;AAAA,qBAGqBP,iBAAiBW,IAAjB,CAAsBR,IAAII,IAA1B,CAHrB;;AAAA;AAGQK,kBAHR;;AAIER,kBAAIS,MAAJ,CAAWC,0BAAKC,OAAhB,EAAyBC,IAAzB,CAA8BJ,IAA9B;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF;;AAAA;AAAA;AAAA;AAAA;AAQAb,MAAIkB,GAAJ,CAAQ,OAAR,EAAiB,UAACd,GAAD,EAAMC,GAAN,EAAa;AAC5BA,QAAIY,IAAJ,CAAS,MAAT;AACD,GAFD;AAGD,C;;AAzBD;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;2cAZA;AACA;AACA;AACA;AACA;AACA;AACA","file":"auth.js","sourcesContent":["// const uuid = require('uuid/v1')\n// const typeorm = require(\"typeorm\")\n// const http = require('http-status-codes')\n// const connection = typeorm.getConnection()\n// const personRepository = connection.getRepository('person')\n// const validate = require('../middleware/dtoValidator')\n// const signUpSchema = require('../dto/signInSchema')\n\nimport v1 from 'uuid'\nimport { getConnection } from 'typeorm'\nimport http from 'http-status-codes'\nimport validate from '../middleware/dtoValidator'\nimport { SignInSchema } from '../dto'\n\n\n\nexport default function (app) {\n  const personRepository = getConnection().getRepository('person')\n  \n  app.post('/login', (req, res) => {\n\n  })\n  app.post('/signin',\n    validate(SignInSchema),\n    async (req, res, next) => {\n      req.body.id = v1()\n      console.log('body', req.body)\n      const user = await personRepository.save(req.body)\n      res.status(http.CREATED).send(user)\n    })\n  app.get('/ping', (req, res) =>{\n    res.send('pong')\n  })\n}\n"]}