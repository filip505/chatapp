{"version":3,"sources":["../../src/routes/user.js"],"names":["app","get","prefix","req","res","personRepository","find","users","console","log","send","ok","post","body","id","uuid","save","require","typeorm","connection","getConnection","getRepository"],"mappings":";;;;;;kBAMe,UAAUA,GAAV,EAAe;AAAA;;AAE5BA,MAAIC,GAAJ,CAAQC,MAAR;AAAA,uEAAgB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACMC,iBAAiBC,IAAjB,EADN;;AAAA;AACRC,mBADQ;;AAEdC,sBAAQC,GAAR,CAAYF,KAAZ;AACAH,kBAAIM,IAAJ,CAAS,EAACC,IAAG,IAAJ,EAAT;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;;AAAA;AAAA;AAAA;AAAA;;AAMAX,MAAIY,IAAJ,CAASV,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7BI,YAAQC,GAAR,CAAY,SAAZ,EAAuBN,IAAIU,IAA3B;AACAV,QAAIU,IAAJ,CAASC,EAAT,GAAcC,MAAd;AACAV,qBAAiBW,IAAjB,CAAsBb,IAAIU,IAA1B;AACAT,QAAIM,IAAJ,CAAS,MAAT;AACD,GALD;AAOD,C;;;;AArBD,IAAMR,SAAS,OAAf;AACA,IAAMa,OAAOE,QAAQ,SAAR,CAAb;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;AACA,IAAME,aAAaD,QAAQE,aAAR,EAAnB;AACA,IAAMf,mBAAmBc,WAAWE,aAAX,CAAyB,QAAzB,CAAzB;;AAiBC","file":"user.js","sourcesContent":["const prefix = '/user'\nconst uuid = require('uuid/v1')\nconst typeorm = require(\"typeorm\")\nconst connection = typeorm.getConnection()\nconst personRepository = connection.getRepository('person')\n\nexport default function (app) {\n\n  app.get(prefix, async (req, res) => {\n    const users = await personRepository.find();\n    console.log(users)\n    res.send({ok:'ok'})\n  })\n\n  app.post(prefix, (req, res) => {\n    console.log('request', req.body)\n    req.body.id = uuid()\n    personRepository.save(req.body)\n    res.send('post')\n  })\n  \n};"]}